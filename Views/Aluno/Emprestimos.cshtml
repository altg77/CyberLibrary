@model CyberLibrary2.Models.ViewModel.Filtro
@{
    ViewData["Title"] = "Empréstimo de Livros";
}

@section Styles {
    <link rel="stylesheet" href="/css/aluno.css" asp-append-version="true" />
}

@section Scripts {
    <script src="/js/Configures.js" asp-append-version="true"></script>
}

<div class="hero-banner">
    <div class="container-hero">
        <div class="banner-content">
            <div class="slider-track">
                <img src="https://podpop.com.br/PodPOP/wp-content/uploads/2021/12/Banner-livros-Podpop.jpg"
                    alt="Banner de livros 1">
                <img src="https://t4.ftcdn.net/jpg/07/32/10/81/360_F_732108134_fJIaxPtPWeZ6NB9oOrspxZ2YsAk7EDJ8.jpg"
                    alt="Banner de livros 2">
                <img src="https://www.estadao.com.br/recomenda/wp-content/uploads/2024/05/Design-sem-nome-19.png.webp"
                    alt="Banner de livros 3">
            </div>
            <div class="slider-dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
            </div>
        </div>
    </div>
</div>

<div class="book-section">
    <div class="head">
        <h1>Recentes</h1>
    </div>
    <section class="book-carousel">
        @if (Model.RecentBooks != null && Model.RecentBooks.Any())
        {
            @foreach (var book in Model.RecentBooks)
            {
                <div class="book-item" data-book-id="@book.Id" data-title="@book.Titulo" data-author="@book.Autor"
                    data-description="@book.Sinopse">
                    <img src="@(book.CapaImagem != null ? "data:image/jpeg;base64," + Convert.ToBase64String(book.CapaImagem) : "https://via.placeholder.com/150")"
                        alt="@book.Titulo Cover">
                    <p>@book.Titulo</p>
                    <div class="book-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Nenhum livro recente encontrado.</p>
        }
    </section>
</div>

<div class="book-section">
    <div class="head">
        <h1>Para Explorar</h1>
    </div>
    <section class="book-carousel">
        @if (Model.ExploreBooks != null && Model.ExploreBooks.Any())
        {
            @foreach (var book in Model.ExploreBooks)
            {
                <div class="book-item" data-book-id="@book.Id" data-title="@book.Titulo" data-author="@book.Autor"
                    data-description="@book.Sinopse">
                    <img src="@(book.CapaImagem != null ? "data:image/jpeg;base64," + Convert.ToBase64String(book.CapaImagem) : "https://via.placeholder.com/150")"
                        alt="@book.Titulo Cover">
                    <p>@book.Titulo</p>
                    <div class="book-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Nenhum livro para explorar encontrado.</p>
        }
    </section>
</div>

<div class="book-section">
    <div class="head">
        <h1>Mais Emprestados</h1>
    </div>
    <section class="book-carousel">
        @if (Model.MostBorrowedBooks != null && Model.MostBorrowedBooks.Any())
        {
            @foreach (var book in Model.MostBorrowedBooks)
            {
                <div class="book-item" data-book-id="@book.Id" data-title="@book.Titulo" data-author="@book.Autor"
                    data-description="@book.Sinopse">
                    <img src="@(book.CapaImagem != null ? "data:image/jpeg;base64," + Convert.ToBase64String(book.CapaImagem) : "https://via.placeholder.com/150")"
                        alt="@book.Titulo Cover">
                    <p>@book.Titulo</p>
                    <div class="book-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Nenhum livro mais emprestado encontrado.</p>
        }
    </section>
</div>

<div class="book-section">
    <div class="head">
        <h1>Melhores Avaliações</h1>
    </div>
    <section class="book-carousel">
        @if (Model.TopRatedBooks != null && Model.TopRatedBooks.Any())
        {
            @foreach (var book in Model.TopRatedBooks)
            {
                <div class="book-item" data-book-id="@book.Id" data-title="@book.Titulo" data-author="@book.Autor"
                    data-description="@book.Sinopse">
                    <img src="@(book.CapaImagem != null ? "data:image/jpeg;base64," + Convert.ToBase64String(book.CapaImagem) : "https://via.placeholder.com/150")"
                        alt="@book.Titulo Cover">
                    <p>@book.Titulo</p>
                    <div class="book-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Nenhum livro com melhor avaliação encontrado.</p>
        }
    </section>
</div>

<div class="book-section">
    <div class="head">
        <h1>Mangas</h1>
    </div>
    <section class="book-carousel">
        @if (Model.Mangas != null && Model.Mangas.Any())
        {
            @foreach (var book in Model.Mangas)
            {
                <div class="book-item" data-book-id="@book.Id" data-title="@book.Titulo" data-author="@book.Autor"
                    data-description="@book.Sinopse">
                    <img src="@(book.CapaImagem != null ? "data:image/jpeg;base64," + Convert.ToBase64String(book.CapaImagem) : "https://via.placeholder.com/150")"
                        alt="@book.Titulo Cover">
                    <p>@book.Titulo</p>
                    <div class="book-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Nenhum Manga encontrado.</p>
        }
    </section>
</div>

<div class="book-section">
    <div class="head">
        <h1>Machado de Assis</h1>
    </div>
    <section class="book-carousel">
        @if (Model.MachadoDeAssisBooks != null && Model.MachadoDeAssisBooks.Any())
        {
            @foreach (var book in Model.MachadoDeAssisBooks)
            {
                <div class="book-item" data-book-id="@book.Id" data-title="@book.Titulo" data-author="@book.Autor"
                    data-description="@book.Sinopse">
                    <img src="@(book.CapaImagem != null ? "data:image/jpeg;base64," + Convert.ToBase64String(book.CapaImagem) : "https://via.placeholder.com/150")"
                        alt="@book.Titulo Cover">
                    <p>@book.Titulo</p>
                    <div class="book-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Nenhum livro de Machado de Assis encontrado.</p>
        }
    </section>
</div>
</div>